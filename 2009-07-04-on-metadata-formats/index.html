<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="icon" type="image/png" href="/assets/images/trans-logo.png">

    <title>7R4N5.C0D3 - 2009 07 04 on metadata formats</title>

    <link rel="stylesheet" href="/smeagol/main.css" type="text/css"/> 
    <link rel="stylesheet" href="/smeagol/pygment.css" type="text/css"/>

    <link rel="stylesheet" href="/assets/styles/custom.css?reload=true" type="text/css"/>
    <link rel="stylesheet" href="/assets/styles/social.css?reload=true" type="text/css"/>  

    <!--[if lt IE 9]>
    <script src="/smeagol/html5.js"></script>
    <![endif]-->

    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

    <script type="text/javascript" src="/assets/scripts/jquery.easing.js"></script>
    <script type="text/javascript" src="/assets/scripts/jquery.social.share.1.2.min.js"></script>

    <script src="/assets/scripts/main.js"></script>

    <script>
      $(document).ready(function(){
        $('#social-share').dcSocialShare({
          twitterId: 'transgigamic',
          tabText: '<img src="/assets/images/tab_share.png" alt="Share" />',
          buttons: 'twitter,facebook,plusone,stumbleupon,digg,linkedin,pinit'
        });
      });
    </script>

</head>

<body>
	
  <div id="container">
		<div id="header">
			<h1>7R4N5.C0D3</h1>
		</div>

    

		<div id="nav">
      <ul>
<li><a href="/">Blog</a></li>
<li><a href="/Projects/">Projects</a></li>
<li><a href="/Tools/">Tools</a></li>
<li><a href="/Reads/">Reads</a></li>
</ul>

		</div>

		<article>
      <div id="content-wrapper">
    	<div id="content">
        <div class="path" style="clear: both;" >
          <b>source</b>: 2009 07 04 on metadata formats
        </div>

<h1>On Configuration Storage Format for Project Metadata</h1>

<h2>Ruby Script</h2>

<p>Ruby-scripts as configuration is popular among gung-ho Ruby-enthusiests. And there is certainly
some merit to it's use, but along with the powerful advantages are serious disadvantages as well.</p>

<h3>Advantages</h3>

<ul>
<li>Computable settings is very flexiable.</li>
<li>Support full type support --Array, String, Integer, etc.</li>
</ul><h3>Disadvantages</h3>

<ul>
<li>Using Ruby code as configuration limits their use to Ruby programs.</li>
<li>Providing the full power of a scriptling language presents a higher security risk.</li>
<li>Automated modification of configuration scripts is difficult.</li>
</ul><p>Ruby scripts are not an uncommon configuration format, especailly in the area of
project tools --.gemspec files for instance are Ruby scripts. Their greatest advantage
is in their flexability --properties can be set computationally. However, the issues
of interoperability, security and editing automation make them a very limited
option.</p>

<h2>YAML</h2>

<p>In the world Ruby programming YAML is certainly the most common choice
of configuration storage. Since YAML is a human-readable serialization format,
this stand to reason.</p>

<h3>Advantages</h3>

<ul>
<li>Popular format amoung Rubyists; and becoming more popular with other languages.</li>
<li>Supports serialization types (string, array, hash, integer, time, etc).</li>
<li>Easy to en masse edit, as all settings can be in a single file.</li>
</ul><h3>Disadvantages</h3>

<ul>
<li>Requires dependency on a hefty parser library.</li>
<li>Difficult to automate selective modification. (Whole file needs to rewritten.)</li>
</ul><p>YAML has the advantage of en masse editing, which will certainly seems more comfortable
to the average Ruby coder. However, this advantage is limited primarily to first-time
editing of configuration data since, in our usecase, most properties will not
change once set.</p>

<p>YAML also has the advantage of supporting of basic types like String, Array, Hash,
and, in the Syck implementation, Time and Integer as well. These types provide some
extra information that can be used in determining the value of a property. However,
this also opens us up to greater potenial of data-type errors.</p>

<h2>INI</h2>

<h3>Advantages</h3>

<ul>
<li>INI files are very human readible and easy to edit.</li>
</ul><h3>Disadvantages</h3>

<ul>
<li>Requires parser library (but much smaller than YAML's).</li>
<li>Entries are generally limited to a single line entry.</li>
<li>No data types --all data are strings.</li>
</ul><p>INI files are even easier to read and write than YAML files. However they lack
serialization types. So all properties are strings and it's up to the application
to determine the type of data.  Also, on the whole, entries are limited
to a single line. This means list entries usually need to be separated by
a delimiter (<code>, : ;</code>), and long description entries need special consideration.</p>

<p>While INI files are conceptually simpler than YAML files, and in so being are
a more attractive solution (IMO), the difference between YAML and INI
does not seem great enough to warrant their use over the convention of
Rubyists to use YAML instead.</p>

<h2>Per-Property Files</h2>

<p>The use of one file per property has some significant advantages, but likewise
has a few issues that keep it from being a perfect solution.</p>

<h3>Advantages</h3>

<ul>
<li>No special parser library is required.</li>
<li>Individual file can be selectively loaded.</li>
<li>Very easy to automate selective update.</li>
<li>Usable by any language or tool.</li>
</ul><h3>Disadvantages</h3>

<ul>
<li>Cumbursome to edit properties en masse.</li>
<li>No data types --all data are strings (unless we use file extensions).</li>
<li>Wastes file system space (ie. block size).</li>
<li>Not as easily scrapable by search engines.</li>
<li>Highly unconventional appraoch.</li>
</ul><p>While some may take serious issue with the waste of file system space, this is increasingly
a negligable downside. Some modern file systems handle small files quite gacefully, and
the number of potential properties limits the waste in anycase.</p>

<p>While not being able to easily edit en masse might seem like a show-stopper, for this
usecase it is usually only needed for the initial editing. After that, editing metadata
tends to be very selective.</p>

<p>While per-propery files do not support data types per-se, if neccessary file extensions on
header comment lines (shebang lines) could be used to convey type.</p>

<p>Probably the biggest downside to the per-propery file approach though is the lack of convention
for doing so. It no doubt will strike most developers as a "bad thing", at least at first.</p>

<h2>Analysis</h2>

<p>In considering the possible configuration formats, it becomes clear there are trade-offs.
No solution is perfect, but no solution is without it's merits either.</p>
      </div>
      </div>
    </article>

    <!-- Start Shareaholic Sexybookmark HTML-->

    <div class="shr_class shareaholic-show-on-load">
    </div>

    <!-- End Shareaholic Sexybookmark HTML -->
    <!-- Start Shareaholic Sexybookmark script -->

    <script type="text/javascript">
    var SHRSB_Settings = {"shr_class":{"src":"/assets/shareaholic","link":"","service":"236,45,5,7,88,92,61,204,202,102,3,40,10,2,38,195,27,48,6,1,218,24,46,267,74,191,265,219,210,78,240,207,54,53,52,201","apikey":"6ffe2cbf142c45bd4cd03b01ec46b8658","localize":true,"shortener":"google","shortener_key":"","designer_toolTips":true,"twitter_template":"${title} - ${short_link} via @Shareaholic"}};
    </script>

    <script type="text/javascript">
    (function() {
    var sb = document.createElement("script"); sb.type = "text/javascript";sb.async = true;
    sb.src = ("https:" == document.location.protocol ? "https://dtym7iokkjlif.cloudfront.net" : "http://cdn.shareaholic.com") + "/media/js/jquery.shareaholic-publishers-sb.min.js";
    var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(sb, s);
    })();
    </script>
    <!-- End Shareaholic Sexybookmark script -->

    <div id="comments">
      <!-- Commment vis Disqus -->
      <div id="disqus_thread"></div>
      <script type="text/javascript">
        /**
         * var disqus_identifier; [Optional but recommended: Define a unique identifier (e.g. post id or slug) for this thread] 
         */
        (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = 'http://transcode.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=transcode">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

		<div id="footer">
      <div class="tiger">
      </div>
			<small>Last edited by <b>trans</b> on June 14, 2012.</small>
			<small style="float:right;">
				This site is a <a href="https://github.com/blog/699-making-github-more-open-git-backed-wikis">GitHub Wiki</a>
				mirror powered by <a href="http://smeagolrb.info">Smeagol</a>.
			</small>
		</div>

  </div>

  <div id="social-share"></div>
</body>
</html>
