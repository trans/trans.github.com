<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRANSCODE &mdash; Trans Technology and Programming Blog</title>
    <link href="http://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/images/trans-logo.png"/>
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="TRANSCODE" />
    <meta name="title" content="TRANSCODE">
    <link rel="canonical" href="http://trans.github.com/">
     
           
    <meta property="og:title" content="TRANSCODE"/>
    <meta property="og:url" content="http://trans.github.com/"/>
    
    
    <meta property="og:site_name" content="TRANSCODE">
</head>
<body>
    
<section class="site-nav">
    <header>
        <nav id="navigation">
            <a class="brand" href="/">
                <img src="/images/trans-logo.png" alt="Inc" height="120px">
            </a>
            <a href="/" class="home">Blog</a>
            <a href="http://github.com/trans">Github</a>
            <a href="/About/">About</a>
        </nav>
        <nav class="tagline">
            <span>Check out all of my open source work</span>
            <a href="http://github.com/trans" class="btn btn-outline">Learn More</a>
        </nav>
    </header>
</section>

<div class="blog-cover" style="background-image:url(/images/blog-cover.jpg);">
    
    <section>
        <div class="container">
            <h1>TRANSCODE</h1>
            <h3>Trans Technology and Programming Blog</h3>
        
            
            <a href="https://twitter.com/transgigamic" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter"></i></a>
            
            
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss"></i>
            </a>
        </div>
    </section>
</div>

<article class="container">

  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/06/28/Lisp-Rainbows/" rel="prefetch">Lisp Rainbows</a></h1>
            <p><p>I always thought Skittles and Lisp should have more in common. Perhaps it&#39;s just me. Perhaps I am the only one that has trouble following all those damn parentheses. It doesn&#39;t take many of them, honestly. Three of four levels in and I start to get a little dizzy. Here&#39;s an example I was just looking at this morning, from <a href="http://docs.racket-lang.org/quick/">Racket&#39;s Quick Introduction</a>.</p>
<div class="highlight"><pre><code class="racket language-racket" data-lang="racket"><span class="p">(</span><span class="k">define </span><span class="p">(</span><span class="nf">checker</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let </span><span class="p">([</span><span class="nf">p12</span> <span class="p">(</span><span class="nf">hc-append</span> <span class="nv">p1</span> <span class="nv">p2</span><span class="p">)]</span>
        <span class="p">[</span><span class="nf">p21</span> <span class="p">(</span><span class="nf">hc-append</span> <span class="nv">p2</span> <span class="nv">p1</span><span class="p">)])</span>
    <span class="p">(</span><span class="nf">vc-append</span> <span class="nv">p12</span> <span class="nv">p21</span><span class="p">)))</span>
</code></pre></div>
<p>Now, assuming that others do in fact have the same difficulty (and love for Skittles) has it not occurred any of the creators of syntax highlighting for Lisp, that perhaps it would be a good idea to color coordinate the parentheticals?</p>

<p><img src="https://trans.github.io/media/lisp-highlight.png" alt="Lisp the Rainbow"></p>

<p>Oh, yea. You can almost taste that Rainbow!</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-28-June" title="June 28, 2014">June 28, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/06/27/The-Leaning-Tower-of-Markdown/" rel="prefetch">The Leaning Tower Of Markdown</a></h1>
            <p><p>You would think that any reasonable human being endeavoring to invent a light-weight markup format would look at <code>_foo_</code> and naturally conclude without a second thought, that if it were to do anything at all it would render as an underlined <u>foo</u>. But apparently, if you happen to be John Gruber and the creator of the most popular markup format in use today, Markdown, that cold case of obviousness is somehow completely wrong. Gruber instead decided it should do the exact same italic emphases as <code>*foo*</code>. </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Sad little _foo_. How sad for you.
To be underlined is your sole pursue.
But regulated to lean, like an Italian Pisa
it would seem, never to truly be
a truly proper underling. Oh, the irony.
</code></pre></div>
<p>By the way, Redcarpet, Github&#39;s markdown parser, does support an <code>:underline</code> configuration option. It sure would be <em>nice</em> if they <em>turned it on</em>! And if others followed suite.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-27-June" title="June 27, 2014">June 27, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/06/25/YAML-Logic/" rel="prefetch">Yaml Logic</a></h1>
            <p><h1>Expressing Logical Relations in YAML</h1>

<p>When designing YES, YAML Easy Schema, it became clear that the specification would have to support logical relationships. Now, that seems a rather tricky thing to try to express in YAML. And my first thought was that I&#39;d have to resort to some level of string parsing, which did not sit well with me. I wanted the whole spec to be YAML all the way down.</p>

<p>Eventually I realized that it was in fact possible. The trick was to use special logical types: <code>!and</code> and <code>!or</code>. Then it is easy enough to create logical graphs.</p>
<div class="highlight"><pre><code class="yaml language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="kt">!and</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">this</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">that</span>
  <span class="p-Indicator">-</span> <span class="kt">!or</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">these</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">those</span>
</code></pre></div>
<p>In addition we can add a <code>!not</code> type.</p>
<div class="highlight"><pre><code class="yaml language-yaml" data-lang="yaml"><span class="l-Scalar-Plain">example</span><span class="p-Indicator">:</span> <span class="kt">!and</span>
  <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">this</span>
  <span class="p-Indicator">-</span> <span class="kt">!not</span> <span class="l-Scalar-Plain">that</span>
</code></pre></div>
<p>And that about wraps it up. </p>

<p>Has anyone else come across a need for this sort of thing? Any ideas for improvements? Any caveats I overlooked?</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-25-June" title="June 25, 2014">June 25, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/06/17/Drink-Me/" rel="prefetch">Drink Me</a></h1>
            <p><h1>My Critique of Elixir</h1>

<p>First, let me admonish myself for having limited knowledge of the subject. I am far from an Elixir expert. So I readily defer to those with more experience that can make a solid contrary argument against my conclusions. However, as I am unlikely to continue on in my adventures with Elixir, this is clearly the only time I have left to opine on the topic. So I will do so, and feel free to take my opinions with as much salt as you feel necessary.</p>

<p>There are many things to like about Elixir. Most notable of them is it&#39;s inheritance from Erlang and it&#39;s improved syntax inspired by Ruby. Its Erlang roots bring so many great features to the table: true functional programming, rock solid stability, distributed computing, and so on. Anything that is good about Erlang, is likewise good about Elixir. On top of this, Elixir brings a much more pleasurable syntax and a few higher-level conveniences which really set it apart from Erlang. (Otherwise there would be no point but to use Erlang directly). But then there are the caveats. </p>

<p>On the minor end, Elixir&#39;s code documentation is a bit odd. Documentation of modules is placed within the <code>defmodule</code> block, while documentation of functions are placed on the outside the <code>def</code> blocks. Why the difference? In addition there is no sigil at the beginning of documentation lines to clearly indicate a comment. If a documentation section were large enough, one could mistake examples for actual program code. Only by the magic of syntax highlighters are we saved from any such &quot;at a glance&quot; error. </p>

<p>Then there is the minor issue of the <code>def</code> prefix on the definition of everything. <code>defmodule</code>, <code>defstruct</code>, <code>deftype</code>, etc. One can understand the desire to avoid too many keywords, but surely <code>module</code>, <code>struct</code> and <code>type</code> would do much better, as they do in almost every other language, and can be avoided as keywords if need be by appropriate context.</p>

<p>A little more troubling is the awful block syntax. Despite all the inspiration form Ruby, Elixir did not adopt Ruby&#39;s elegant block syntax. Instead we get a strange twist of <code>fn</code> keyword, an arrow <code>-&gt;</code> and an <code>end</code> keyword, all within the argument parenthetical.</p>
<div class="highlight"><pre><code class="elixir language-elixir" data-lang="elixir">  <span class="no">Enum</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="n">list</span><span class="p">,</span> <span class="k">fn</span> <span class="n">x</span> <span class="o">-&gt;</span>
    <span class="o">...</span>
  <span class="k">end</span><span class="p">)</span>
</code></pre></div>
<p>It feels a bit more like Javascript than Ruby. Ironically, this ugliness doesn&#39;t save us from a whole mess of seemingly extraneous <code>do</code> statements everywhere. Every <code>def*</code> and even every condition like <code>if</code> also requires a <code>do</code> to define the subsequent block.</p>
<div class="highlight"><pre><code class="elixir language-elixir" data-lang="elixir">  <span class="k">if</span> <span class="n">ok?</span><span class="p">()</span> <span class="k">do</span>
<span class="k">     </span><span class="o">...</span>
  <span class="k">end</span>
</code></pre></div>
<p>It might not seem like much, but when you write enough code and find yourself having to always fix missing do&#39;s first off, you can&#39;t help but feel as if your time could be spent on more useful endeavors.</p>

<p>On a higher level of critique, I think Elixir, like Erlang and their ML brethren, suffer from <em>Overtype Syndrome</em>, if you will allow me to coin a phrase. Because the language is both functional and so strongly typed, every method comes by way of a module. So instead of say, <code>list.each{...}</code> as in Ruby, one much specify where <code>each</code> is defined, <code>Enum.each(list, ...)</code>. And because one must repeat these module names over and over, there is a naturally common practice of extreme abbreviation. In some fashion it&#39;s nice that names are concise. Yet it can be a bit difficult encountering module names like <code>IEx</code> in passing. In addition, we end up with a whole slew of modules and types with which to contend. Of course this can be true of any strongly typed language, but it seems especially so for the ML branch of languages.</p>

<p>Finally, my last niggle is with functional programming in general. Honestly, it&#39;s pretty awesome. But just as honestly, it is difficult. The lack of procedural techniques puts a significant onus on the functional language to provide a large set of easy to understand and easy to utilize functions to pipe together to achieve the desired result. Partly it is due to lack of experience in thinking functionally, but it is clear enough that even for very component functional programmers it can be a real challenge to piece together the right functions to solve a complex problem. I believe this is because functional programming forces you to think about the whole more so than procedural programming. With a procedure, one can quickly break down a problem into parts. e.g. &quot;I have an array of strings, which I need to iterate over and extract each word, and for each word, make it lowercase, and then update a hash table to track the number of times the word occurs.&quot; Easy enough. Functionally the reads more like, &quot;I need to build a dict via a flat-map over a list of strings and the list of words in each while lowering the case of each word, with an updated key/value pair.&quot; Or something like that. It is simply harder to even to talk in functional terms.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-17-June" title="June 17, 2014">June 17, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/03/29/Next-Level-Please/" rel="prefetch">Next Level Please</a></h1>
            <p><p>I wish my computer was more integrated. There are a number of things I want it to do right &quot;out-of-the-box&quot; and I want them all to come to me through a single integrated interface.</p>

<ul>
<li>Authenticate id</li>
<li>Manage privacy</li>
<li>Tell time and keep a calendar

<ul>
<li>Set reminders and alarms</li>
</ul></li>
<li>Provide weather report(s)</li>
<li>Map w/ Global positioning</li>
<li>Messaging (Text and Email)</li>
<li>Translate other languages</li>
<li>Search and Surf Internet</li>
<li>File Manager (Advanced)</li>
<li>Play music  (personal and internet stations)</li>
<li>Play and movies (personal and internet stations)</li>
<li>Show pictures

<ul>
<li>Multiple sources such as Dropbox, Google Drive and Local</li>
</ul></li>
<li>Edit Photos</li>
<li>Vector Drawing (has own tools interface)</li>
</ul>

<p>Ultimately everything should be voice driven. Voice commands are translated into a set of objectives. The user can see these objectives in simple command form and decide if it is acceptable. And that&#39;s key --everything should be scriptable.</p>

<p>I wonder if we will ever have anything like.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-29-March" title="March 29, 2014">March 29, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2014/01/20/HTML-Follies/" rel="prefetch">Html Follies</a></h1>
            <p><p>HTML Follies</p>

<p><strong>DRAFT</strong></p>

<p>Despite all its glories, HTML also has some serious follies. I&#39;ve never thought highly of the W3C in general. They seem to be on a never ending quest to build standards at a snails pace, yet end up with a result that is barely an improvement over previous solutions --if not actually worse. And unfortunately it is too often at an intolerable level of new complexity. For some reason K.I.S.S. seems to have been left off their principles sheet. For some clear examples, consider [XMLST] and [XML-fo]. I think [Web Components] are the latest ranking member.</p>

<p>So let&#39;s go through some of the glaring issues with HTML, what would be an appropriate solution and perhaps make some suggestion for how to mitigate the issue while still under the yolk of current standards.</p>

<h2>Headers Ought to be Titles</h2>

<p>Presently HTML authors must handle the titling of sections as follows:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;section&gt;
  &lt;h2&gt;New Chapter&lt;/h2&gt;
  &lt;p&gt;...&lt;/p&gt;
&lt;/section&gt;
</code></pre></div>
<p>We assume here that the author was at least wise enough to put the header in the section and not above it. But why <code>h2</code> (which is a common choice)? Why not <code>h1</code> or <code>h3</code>? Well, there is no real reason. The document creator simply choose <code>h2</code> because it was in suitable font size as setup in the CSS. And therein lies a clear failure of design. The element is not being selected semantically. A proper design would be:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;section&gt;
  &lt;title&gt;New Chapter&lt;/title&gt;
  &lt;p&gt;...&lt;/p&gt;
&lt;/section&gt;
</code></pre></div>
<p>Alas, HTML has no <code>title</code> element (outside of <code>head</code>). We could argue for a numberless <code>h</code> instead, but it amounts to essentially the same thing. Yet the term <code>title</code> is much more telling. Likewise <code>subtitle</code> is much more telling than any <code>h2</code> or <code>h3</code>.</p>

<p><strong>What to do now?</strong> Our best course of action is to always use <code>h1</code> for titles and use <code>h2</code> for subtitles. Headers <code>h3</code>-<code>h6</code> should rarely, if ever, be of any use.</p>

<h2>Padding Undermines Width</h2>

<p>Technically this is a CSS issue, but these days it&#39;s not reasonable to separate it from HTML. The two are intractably linked. </p>

<p>Padding should not add width. If the width of an element is specified and a padding is added, then the inner width should reduce accordingly.</p>

<p>Thankfully this has been addressed in the latest HTML version. <em>Hallelujah!</em> ...</p>

<h2>Open Semantics</h2>

<p>Lastly, the ultimate end point of the development of HTML is to separate the markup of structure from that of the meaning of the tags. This is in fact what the W3C was attempting with XML and XSLT. But that approach failed. It was too complicated. A new approach using CSS instead of XSLT could do better.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&lt;chapter&gt;
  &lt;p&gt;...&lt;/p&gt;
&lt;/chapter&gt;
</code></pre></div>
<p>Chapter isn&#39;t a recognized tag. But the CSS could be used to identify it.</p>

<p>chapter {
    tag: section
  }</p>

<p>Thus the CSS informs the document to treat <code>chapter</code> tags as if they were <code>section</code> tags.</p>

<p>Current the W3C&#39;s solution to this is Web Components. And while some of the Web Components specification is needed for more complex problems. It is still has a piss poor interface, and is a complete overkill for simple cases like the one above.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2014-20-January" title="January 20, 2014">January 20, 2014</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2013/09/17/Transpilers-to-Watch/" rel="prefetch">Transpilers To Watch</a></h1>
            <p><h1>Transpilers are the new Black (Coffee)</h1>

<p><a href="http://coffeescript.org">CoffeeScript</a> is fairly ubiquitous technology these days --a <em>transpiler</em> that converts it&#39;s own, much nicer language into Javascript, which can then be run via Node.js or on the Web. But it&#39;s not the only fish in this sea. Here are three similar projects that look very promising.</p>

<h2><a href="http://texodus.github.io/forml/">Forml</a></h2>

<p>A contemporary programming language for the discriminating programmer,
intended to approximate the safety of Haskell and the expressiveness
of Ruby. Should such an approximation turn out to exist.</p>

<h2><a href="http://noflojs.org/">NoFlo</a></h2>

<p>NoFlo is a JavaScript implementation of Flow-Based Programming (FBP).
Separating the control flow of software from the actual software logic.
Helping you organize large applications easier than traditional OOP
paradigms, especially when importing and modifying large data sets.</p>

<h2><a href="http://opalang.org/">Opal</a></h2>

<p>Opa is a full-stack open source web development framework for JavaScript
that lets you write secure and scalable web applications.
Opa handles all aspects of web programming: frontend (client code),
backend (server code) and database queries are all written in one
consistent language and compiled to standards of the web.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2013-17-September" title="September 17, 2013">September 17, 2013</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2013/09/04/Revelation-Knowledge/" rel="prefetch">Revelation Knowledge</a></h1>
            <p><p>I just had a revelation about programming languages.</p>

<p>Coming into this project, my primary goal was to rate a Forth derivative, that added types, polymorphism and functional-orientation to the language. That goal is proceeded reasonably well. However, in the course of thinking about all the varying aspects of the design I hit upon a very interesting concept. I asked, &quot;What does the computer know?&quot; In other words, how are we really informing the computer about our systems as we program. It only stands the reason that the more the computer knows the more we easily we can communicate our intent.</p>

<p>So lets start with the bread and butter the algorithm, and seeing that we want to stay in the realm of functional-programming ultimately will strictly speak of functions. But to proceed, lets get our barrings by asking what other languages tell the computer about such these things, whether they be procedures, functions or methods.</p>

<p>Forth is probably the most basic in this regard of all languages, with the exception of Assembly. It doesn&#39;t tell the computer anything at all about a <em>word</em> (Forth&#39;s term for these things) other then the procedure by which it is calculated. Some Forth words provide terse stack diagrams but they are simply comments, ignored by the computer.</p>

<p>Other languages, like Ruby, are essentially the same as Forth. Ruby is a dynamic language, so it doesn&#39;t provide types for method arguments. To a limited degree names are provided for them, but they are promptly thrown away by the interpretor, so the computer is no more knowledgeable in that regard either. We do get one piece of extra information though. We can ask Ruby what the arity of a method is.</p>

<p>Python takes us a tad step further with regards the argument names. One can pass arguments to a method by name. That&#39;s an improvement, but that&#39;s about as far as it goes.</p>

<p>On the other side of things, there are languages like Java which are very strictly typed. But the types do little more than inform the compiler how to do it&#39;s job better. In the language itself we can&#39;t really ask about them. The names of the parameters are still ultimately disposable to the computer. (I wouldn&#39;t be surprised if there is some insanely complicate reflection library out there for Java that would make some of this possible, but regardless it is not part of the <em>real</em> language.)</p>

<p>Then there are languages like Haskell which are strictly typed and can tell us all about those types. </p>

<p>Haskell&#39;s about the state of the art at this point. There isn&#39;t a language I know of that informs the computer more about it&#39;s functions.</p>

<p>So then I asked, what would be a <em>knowledgeable design</em> such that the computer would know about these things we computers use day in and day out, and really be able to converse with us about them, so to speak.
Well, lets break it down. What is there to know about a function?</p>

<ul>
<li>Arity</li>
<li>Types of the arguments</li>
<li>Types of the return values</li>
<li>Name of the function</li>
<li>Name of the arguments</li>
<li>Definition of the function</li>
</ul>

<p>Beside these, it may even behoove us to inform the computer about aliases for the various names, so it is easier to talk about these things for different programmers who might not be as with the code, or just to give us some programmer to speak more naturally, rather than always being so tortured to use the exact term.</p>

<p>Lets try and example, by writing out some pseudo-code for a function. Let&#39;s keep it simple, say, calculating the tip for a check.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">function tip(amount, percentage)
  typeof amount Currency
  typeof percentage Float

  default amount $0
  default percentage 20%

  aliases percentage percent pnct pct
  aliases amount price cost

  definition amount * percentage

  return-type Currency
end

aliases tip gratuity
</code></pre></div>
<p>But notice we also said &quot;tip <em>for a check</em>&quot;. That means something, so in our pseudo-code lets try to express that.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">context tip check

aliases check bill
</code></pre></div>
<p>Okay. So what do we have after all that? Well, at the very least we have a way to speak to the computer about the various parts of our function.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">tip.parameters  =&gt; [amount, percentage]
tip.return_type =&gt; Currency
tip.parameter(amount).type  =&gt; Currency
tip.parameter(pcnt).default =&gt; 20%
</code></pre></div>
<p>And so on. We can also call the function of course, but we could do so in unique way now. We can do it in an object-oriented way. After we do have a <em>thing</em> that is our function.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">mytip = new tip
mytip.amount = $100.00
mytip.return  =&gt; $20
</code></pre></div>
<p>Now in the larger scheme of things, if that is all there were it might not get us too much further than the programming languages we mentioned above. But, we might now be able take all this new found knowledge granted to the computer about our program and start asking it to do some things we might normally do ourself.</p>

<p>For example, lets describe to the computer the concept of paying for lunch.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">function pay(bill, tender)
  type bill Bill
  type tender Currency
  definition
    tender - (tally + gratuity(pcnt: 20%))  # this right here!
  return-name change 
  type change Currency

object Bill(menu-items, tax)
  type menu-items List(Product)
  type tax Percentage

function tally(bill)
  type bill Bill
  definition
     net = sum(bill.menu_items.each.cost) 
     net + net * tax
  aliases tally price cost
  return-type Currency

object Product(name, price)
  aliases price cost
  type name String
  type price Currency
</code></pre></div>
<p>Look closely at the line <code>tally + gratuity</code>. Notice we didn&#39;t say <code>bill.tally + tip(bill.tally)</code>. Not I know my pseudo code doesn&#39;t really get us to the point where it&#39;s clear how we can be so concise. But I think the basic notion is there. The idea is that by explicitly defining the various parts of our model, drawing relationships between those parts via aliases then the computer itself can start to make the connections between the return values and the input parameters for us.</p>

<p>I suspect if this kind of approach is taken to it&#39;s natural conclusion, it should ultimately allow us to write much more reusable code, write that code in a much more natural and information rich manner.</p>

<p>Taking a step back, I believe it would be too much of undertaking for me to endeavor upon at this point. Nonetheless it does move me in a smarter direction with March --to make the language more knowledgeable.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2013-04-September" title="September 04, 2013">September 04, 2013</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2013/08/11/Hardly-Functional/" rel="prefetch">Hardly Functional</a></h1>
            <p><h1>Is Thinking Functionally a Black Art?</h1>

<p>As I explained in a previous post, I have been writing a genetic algorithm to find the best layout of a keyboard based on a set of ergonomic principles. I decided to write the program in both Go and Elixir as a way to &quot;learn me some new programmings languages for the greater good&quot;. Writing the Go program went very smoothly. I had a good working program in just over a day&#39;s work. The Elixir code on the other hand has taken me close to three days and I am still trying to work out issues. I attribute most of this long spell to the paradigm shift one must make when switching from a procedural to a functional way of doing things.</p>

<p>I have two examples from my work that I think demonstrate the difficultly of this shift.</p>

<p>Originally I had written the following code:</p>
<div class="highlight"><pre><code class="elixir language-elixir" data-lang="elixir">    <span class="k">def</span> <span class="n">evolve</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span> <span class="k">do</span>
<span class="k">      </span><span class="ss">:random</span><span class="o">.</span><span class="n">seed</span>

      <span class="n">best</span> <span class="o">=</span> <span class="m">0</span>
      <span class="n">size</span> <span class="o">=</span> <span class="m">16</span>

      <span class="n">pop</span> <span class="o">=</span> <span class="n">random_keyboards</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>

      <span class="no">Enum</span><span class="o">.</span><span class="n">reduce</span> <span class="p">(</span><span class="m">1</span> <span class="o">..</span> <span class="n">gen</span><span class="p">),</span> <span class="n">pop</span><span class="p">,</span> <span class="k">fn</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">-&gt;</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="no">List</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">breed</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="n">natural_selection</span><span class="p">(</span><span class="n">newpop</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

        <span class="n">first</span> <span class="o">=</span> <span class="no">Enum</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">childs</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">best</span> <span class="o">&lt;</span> <span class="n">first</span><span class="o">.</span><span class="n">score</span> <span class="k">do</span>
<span class="k">          </span><span class="n">best</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">score</span>
          <span class="n">size</span> <span class="o">=</span> <span class="m">16</span>
        <span class="k">else</span>
          <span class="n">size</span> <span class="o">=</span> <span class="n">size</span> <span class="o">+</span> <span class="m">2</span>
        <span class="k">end</span>         

        <span class="n">newpop</span>
      <span class="k">end</span>
    <span class="k">end</span>
</code></pre></div>
<p>It all seemed rather reasonable to me. Turns out however, Elixir thought otherwise:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">variable best is unused
variable size is unused
</code></pre></div>
<p>My procedural mindset was geared toward the idea of using variables to track a state while iterating around in a loop. But for a functional language this is not the correct way to think about the problem. By reassigning best and size within the <code>reduce</code> block function I was in effect creating new variables, not reassigning the ones defined outside.</p>

<p>The solution, as is the case with many such procedural conversions, is to think recursively.</p>
<div class="highlight"><pre><code class="elixir language-elixir" data-lang="elixir">    <span class="k">def</span> <span class="n">evolve</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span> <span class="k">do</span>
<span class="k">      </span><span class="ss">:random</span><span class="o">.</span><span class="n">seed</span>
      <span class="n">evolve</span><span class="p">(</span><span class="n">gen</span><span class="p">,</span> <span class="n">random_keyboards</span><span class="p">(</span><span class="m">16</span><span class="p">),</span> <span class="m">16</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="n">evolve</span><span class="p">(</span><span class="n">gen</span><span class="p">,</span> <span class="n">pop</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">best</span><span class="p">)</span> <span class="k">do</span>
<span class="k">      if</span> <span class="n">gen</span> <span class="o">==</span> <span class="m">0</span> <span class="k">do</span>
<span class="k">        </span><span class="n">pop</span>
      <span class="k">else</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="no">List</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">breed</span><span class="p">(</span><span class="n">p</span><span class="p">),</span> <span class="n">p</span><span class="p">)</span>
        <span class="n">newpop</span> <span class="o">=</span> <span class="n">natural_selection</span><span class="p">(</span><span class="n">newpop</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>

        <span class="n">first</span> <span class="o">=</span> <span class="no">Enum</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="n">childs</span><span class="p">,</span> <span class="m">0</span><span class="p">)</span>
        <span class="n">display</span><span class="p">(</span><span class="n">first</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">best</span> <span class="o">&lt;</span> <span class="n">first</span><span class="o">.</span><span class="n">score</span> <span class="k">do</span>
<span class="k">          </span><span class="n">evolve</span><span class="p">(</span><span class="n">gen</span> <span class="o">-</span> <span class="m">1</span><span class="p">,</span> <span class="n">newpop</span><span class="p">,</span> <span class="m">16</span><span class="p">,</span> <span class="n">first</span><span class="o">.</span><span class="n">score</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="n">evolve</span><span class="p">(</span><span class="n">gen</span> <span class="o">-</span> <span class="m">1</span><span class="p">,</span> <span class="n">newpop</span><span class="p">,</span> <span class="n">size</span> <span class="o">+</span> <span class="m">2</span><span class="p">,</span> <span class="n">best</span><span class="p">)</span>
        <span class="k">end</span>         
      <span class="k">end</span>
    <span class="k">end</span>
</code></pre></div>
<p>After working this out, a part of me has to agree the fanboys of functional languages. This does smack of an certain elegance that the procedure solution lacks. The solution is also efficient thanks to <em>tail recursion</em>, which avoids the usual call stack overhead of repeatedly calling nested functions.</p>

<p>But then there was the routine that I have yet to figure out how to do in a more functional way. To get the following routine to work I basically had to make Elixir behave much like a procedural language --running in a loop shuffling list indexes around.</p>
<div class="highlight"><pre><code class="elixir language-elixir" data-lang="elixir">    <span class="k">def</span> <span class="n">cross</span><span class="p">(</span><span class="n">mother</span><span class="p">,</span> <span class="n">father</span><span class="p">)</span> <span class="k">do</span>
<span class="k">      </span><span class="n">offset</span> <span class="o">=</span> <span class="m">0</span>

      <span class="k">if</span> <span class="n">numeric_layout?</span><span class="p">()</span> <span class="k">do</span>
<span class="k">        </span><span class="n">offset</span> <span class="o">=</span> <span class="m">9</span>
      <span class="k">end</span>

      <span class="n">n</span> <span class="o">=</span> <span class="n">number_of_actions</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>  <span class="c1"># 0 or 1</span>

      <span class="n">child_layout</span> <span class="o">=</span> <span class="no">Enum</span><span class="o">.</span><span class="n">reduce</span> <span class="p">(</span><span class="m">0</span> <span class="o">..</span> <span class="n">n</span><span class="p">),</span> <span class="n">mother</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="k">fn</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">-&gt;</span>
        <span class="n">i</span> <span class="o">=</span> <span class="ss">:random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="n">length</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">-</span> <span class="n">offset</span> <span class="o">-</span> <span class="m">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">offset</span>
        <span class="n">l</span> <span class="o">=</span> <span class="no">Enum</span><span class="o">.</span><span class="n">at</span> <span class="n">father</span><span class="o">.</span><span class="n">layout</span><span class="p">,</span> <span class="n">i</span>
        <span class="n">x</span> <span class="o">=</span> <span class="no">Enum</span><span class="o">.</span><span class="n">find_index</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="k">fn</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">q</span> <span class="o">==</span> <span class="n">l</span> <span class="k">end</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span> <span class="k">do</span>
<span class="k">          </span><span class="n">swap</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">else</span>
          <span class="n">c</span>  <span class="c1"># should generally never happen</span>
        <span class="k">end</span>
      <span class="k">end</span>

      <span class="n">make_keyboard</span><span class="p">(</span><span class="n">mutate</span><span class="p">(</span><span class="n">child_layout</span><span class="p">))</span>
    <span class="k">end</span>
</code></pre></div>
<p>Perhaps it is inevitable that some procedural-esque code will always be present. In fact, that is the one caveat about functional programming that makes me wonder if maybe it&#39;s <em>not quite all that</em>. Some problems, that are relatively easy to solve in a traditional procedural language, seem markedly harder to solve functionally.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2013-11-August" title="August 11, 2013">August 11, 2013</time>
            </div>
        </div>
        <hr>
    </section>
    
    
  
    <section class="index">
        <!-- -->
        <div>
            <h1 class="title"><a href="/2013/08/06/Should-You-Go/" rel="prefetch">Should You Go</a></h1>
            <p><h1>Should You Go?</h1>

<p><strong>2012-080-06 [DRAFT]</strong></p>

<h2>Preface</h2>

<p>I&#39;ve been working on a (somewhat esoteric) IME for Android over that last couple of years and recently I decided to automate part of my design process. I had been manually evaluating keyboard layouts for ergonomic quality. After expending so much time and energy into evaluating one layout after another, trying to ascertain which is optimal in my mind without coming to any firm conclusion, I decided something had to give. And so I did what a coder does best: I wrote a program to figure it out for me. The idea was straight forward. I would codify the principles by which an ergonomic layout is to be judged, assign a score to each of those principles, and then have the computer shuffle through every permutation to find the one with the highest score.</p>

<p>Thanks to its elegance and my high fluency in Ruby, I was able to whip out an initial working program in a few hours, and by the end of the day I was getting useful results. Unfortunately there was a problem. It was <em>Way Too Slow</em>. The first culprit, it become clear, was that a brute force search wasn&#39;t going to suffice. There were simply too many possibilities. To remedy that I added a simple genetic algorithm and seeded it with an initial population of layouts I already knew to be pretty good. That helped a lot, but it was still <em>Way Too Slow</em>. So then I decide to turn this new problem into an opportunity. And that&#39;s where this story gets interesting...</p>

<h2>Learning Go</h2>

<p>I&#39;ve been wanting to learn a new modern programming language for a while. Having a relatively small yet substantial problem to solve made for the perfect excuse. After doing some research on Go, Julia, Haskell, Erlang and Elixir --all languages I expected to offer me a nice bump in speed (wait, isn&#39;t that just about any language compared to Ruby?) I narrowed my choices to Elixir and Go. I choose Elixir because it was a <em>functional language</em> but borrowed much of it&#39;s syntax from Ruby. That would make the transition easier. And I choose Go because it was a lower-level language, potentially offering the greatest speed gain. I&#39;ve always hated C and I will never endeavor to be proficient in it. But Go presents a much more approachable way to program that is fairly close to the metal like C. So I am pretty tickled by its prospects. I dived into the Elixir first, but I will save my thoughts on Elixir for a future post. The rest of this article will cover my initial thoughts on Go.</p>

<h2>Initial Impression</h2>

<p>If I were to sum things up as concisely as possible I would say this about Go: &quot;The really good thing about Go is that there is so little to it. The really bad thing about Go is that there is so little to it.&quot; That is very accurate. In Go, I had to write a function to scan an <em>array of string</em> for members. I stress &quot;array of string&quot;, because, you guessed it, one would have to write a completely separate function for <em>array of int</em>. Go has no general functions. Every function is type specific to its very bones. Many a questions on the golang-nuts mailing list ends with the post &quot;There is no general solution...&quot;. It really does seem crazy how many hoops one has to jump through to get things done. What would be a clear one-liner in Ruby, well, it will take at least a handful of lines in Go. In the future, I truly expect to hear old-time Go coders swapping legends about maintaining million lines of code. (Just like old times!)</p>

<p>But!!! (<em>triple exclamation</em>) There is a silver lining. As awful as all that sounds, the downright <em>simplisticness</em>(TM) of Go does have two really great benefits. First, there isn&#39;t much to learn with respect to the language itself. It literally takes a day to learn the basic constructs and to get up and running at a pretty good clip. Secondly, because every itty-bitty routine must be coded there is hardly any doubt as to exactly what the code is doing and there is plenty of room for optimization all along the way. This is one of the things that makes Go code so fast. Granted it leaves room for a poor coder to write less than optimal code too, but Go Trusts You. On the whole the extreme simplicity of the language is a net positive.</p>

<p>Beyond that, coding in Go was fairly comfortable. The syntax is actually harder to read than it is write, as strange as that sounds. After writing Go code for just for a short while, it starts to feel very natural, which probably accounts for why I was able to write my program in just over a day, despite never having written a lick of Go before. In particular I have to give props to Go&#39;s <code>for</code> loop construction. The whole <code>for i, x := range anarray { ... }</code> thing makes writing most loops a breeze.</p>

<h2>Case-for-Visibility</h2>

<p>One reason the code might be a little hard to read is Go&#39;s use of function name capitalization to &quot;export&quot; a package&#39;s public interface. There is a part of me that wants to agree with other that this is stroke of Genius. Many Rubyists feel the same about the capitalization of Class names. However, when ever I see capitalization being made significant in a language a little red flag goes off in the back of my head. Upon a more tempered consideration, it is perhaps easy to see why. The designers <a href="http://golang.org/doc/faq#unicode_identifiers">admit</a> this is an issue for those who code in certain foreign languages. But they also say, &quot;the case-for-visibility rule is unlikely to change however; it&#39;s one of our favorite features of Go.&quot; It would seem the designers might need a lesson on the <a href="http://www.fastcompany.com/1802659/letter-editor-adrien-brody-rule">Adrien Brody Rule</a>. If it were only a convention it might be passable. But forcing it is really unacceptable for wider use as a global programming language. And personally, after the initial coolness wore off, I began to think it just looks bad. Alongside Go&#39;s CamelCase convention (and you kind of have to do that once you require capitalization), you end up with  somewhat ugly, &quot;Visually Basic&quot; looking code. Clearly they missed the Ruby memo: When it comes to readability, <code>foo.make_something_good</code> beats <code>foo.MakeSomethingGood</code>.</p>

<h2>Project Structure</h2>

<p>Another significant issue with Go is its standard project structure. Essentially it pushes the <em>one giant workspace</em> approach to development (see http://golang.org/doc/code.html). That might make sense for a software development house, but for other types of coders that is really not acceptable. I sometimes have projects where the code is just an auxiliary aspect. The project could have presentations, spreadsheets, word documents, etc. If there is code associated with the project it needs to reside alongside these other documents and not be handicapped for doing so. Currently the only way I see for doing this is to adjust the $GOPATH every time I work on such a project. No fun. Hopefully there is a better way yet too be discovered, or that the Go designers will eventually provide.</p>

<h2>Debugging</h2>

<p>From what I thus surmise about the tools provided for Go, I have only scratched the surface of what is available. But I can say that one the best things about working with Go were the very clear and directory error reports. By default, at least, Go doesn&#39;t fill the screen with stack traces and code snippets. Rather is simply states the problem in plain English and give the file and line number where it arose. The clarity of the error messages made it very easy to correct every issue detected by the compiler.</p>

<h2>Documentation</h2>

<p>With regards to documentation, I have to give Go a push. What is available is still quite weak. However, given how new the language is, the current state of documentation is actually rather commendable. With its growing popularity, clearly this is a situation that will improve rapidly.</p>

<p>Einstein had a saying, &quot;Everything should be made as simple as possible, but not simpler&quot;. In some respects, such as the generics issue, Go has made things <em>too</em> simple. If Go&#39;s designers ultimately find a way to support generics --and by all accounts they are at least <a href="http://golang.org/doc/faq#generics">open to the prospect</a>, the language would become much more accessible. And some of this critique will be mitigated. But despite it&#39;s over simplification, it beats the pants off the converse issue over complexification, which we too often find in other languages.</p>

<p>Go is the best new language to come along since I learned Ruby in 2002. I think anyone still coding C when it&#39;s not absolutely necessary, is just a glutton for punishment. I highly recommend you Go, and Go now.</p>
</p>
            <div class="meta">
                Written By <address></a> &mdash;
                <time pubdate datetime="2013-06-August" title="August 06, 2013">August 06, 2013</time>
            </div>
        </div>
        <hr>
    </section>
    
    
    <section class="pagination" style="text-align:center">
      
      
        <a href="/page2" class="btn btn-outline">Older ›</a>
      
    </section>
</article>


<footer class="site-footer">
    <div class="container">
        &copy; 2014 
        
        <nav>
            <a href="http://transcode.github.com">TRANS</a> &middot;
            <a href="/">Blog</a> &middot;
            <a href="http://github.com/trans">Product</a> &middot; 
            <a href="/About/">About</a>
        </nav>
        
        <nav class="social">
            
            <a href="https://twitter.com/transgigamic" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
            
                
            <a href="/feed.xml" title="RSS Feed">
                <i class="icon icon-rss black"></i>
            </a>
        </nav>
        <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
    </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>
<script>
    (function(d, t) {
        var g = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        g.src = '//hnbutton.appspot.com/static/hn.min.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>


</body>
</html>
