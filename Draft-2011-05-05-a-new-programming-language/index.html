<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <title>7R4N5.C0D3 - A New Programming Language</title>

    <link rel="stylesheet" href="/smeagol/main.css" type="text/css"/> 
    <link rel="stylesheet" href="/smeagol/pygment.css" type="text/css"/>

    <link rel="stylesheet" href="/assets/styles/custom.css" type="text/css"/> 

    <!--[if lt IE 9]>
    <script src="/smeagol/html5.js"></script>
    <![endif]-->

    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>

    <script src="/assets/scripts/main.js"></script>

    <script>
      $(document).ready(function(){
        show('#ad');
      });
    </script>

</head>

<body>
	
	
    <div id="container">
		<header>
			<h1>7R4N5.C0D3</h1>
		</header>

		<div id="nav">
      <li onMouseOver="show(this, '#am');">I AM</li>
      <li onMouseOver="show(this, '#make');">I MAKE</li>
      <li onMouseOver="show(this, '#ad');">I AD</li>
      <li onMouseOver="show(this, '#use');">I USE</li>
      <li onMouseOver="show(this, '#read');">I READ</li>
		</div>

    <div id="sidebar">
      <div id="am" class="tab">
        <h2 class="side-title">I Am</h2>
        <p>Trans has been coding Ruby since 2002. Now he shares with you. Kazaam!</p>
      </div>

      <div id="make" class="tab">
        <h2 class="side-title">I Make</h2>
        <div style="text-align: center;">
          <a href="http://rubyworks.github.com"><img src="/assets/images/rubyworks.png" style="width: 250px;" /></a>
          <a href="http://rubyworks.github.com/facets"><img src="/assets/images/RubyFacets.png" style="width: 270px;"/></a>
          <a href="http://death.rubyforge.org"><img src="/assets/images/skull4.png" style="margin-top: 0;"/></a>
        </div>
      </div>

      <div id="ad" class="tab">
        <h2 class="side-title">I Advertise</h2>
        <div style="text-align: center;">
          <script type="text/javascript"><!--
          google_ad_client = "pub-1126154564663472";
          /* RUBYWORKS 09-10-02 728x90 */
          google_ad_slot = "0788888658";
          google_ad_width = 728;
          google_ad_height = 90;
          //-->
          </script>
          <script type="text/javascript"
          src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
          </script>
        </div>
      </div>

      <div id="use" class="tab">
        <a href="http://ruby-lang.org"><img src="/assets/images/ruby-lang.png"/></a>
        <a href="http://github.org"><img src="/assets/images/github-logo.png" style="float: left; margin-left: 5px; width: 115px;"/></a>
        <a href="http://github.org"><img src="/assets/images/jquery-logo.gif" style="margin-left: 10px;"/></a>
        <a href="http://cukes.info/"><img src="/assets/images/cuke_logo.png"/></a>
      </div>

      <div id="read" class="tab">
        <h2 class="side-title">I Read</h2>
        <a href="http://rubyinside.com/"><img src="http://www.rubyinside.com/wp-content/themes/rubyinside2009/images/logo2.png" align="center"/></a>
      </div>

      <div id="work" class="tab">
        <h2 class="side-title">I Work</h2>
        <div id="github-badge"></div>
        <script type="text/javascript" charset="utf-8">
          GITHUB_USERNAME="trans";
        </script>
        <script src="http://drnic.github.com/github-badges/dist/github-badge-launcher.js" type="text/javascript"></script>
      </div>
    </div>

		<article>
			<h1>A New Programming Language</h1>
    	<div id="content">
<h1>A New Programming Language</h1>

<p>
  <strong>DRAFT</strong>
</p>

<p>I find the current state of programming still extensively primative. In many
ways we have spent the first 50 years of the computer revolution conforming
to computers. This was initially necessary, but now has become increasingly
cumbersome. This is true for many aspects of the computing environment, even
those focused on graphical-user-interfaces. But it is most apparent in
programming itself.</p>

<p>[Fill in examples of primative practices]
* static typing
* memory management</p>

<h2>Example</h2>

<p>I believe in <em>examples first</em>. Here is the first part of an example
program to play flash cards.</p>

<pre>
  <code>= FlashCards
by Mr. Smith

The game of Flash Cards is very simple. It requires a deck of 
picture cards. Each card has a picture on the back of the card
and a word on the face of the card. The dealer takes a card
and shows the back of the card to the player. The player then
trys to guess the word on the face of the card based on the 
image as shown on the back. The player gets a point for every
correct answer. A winning player is one who gets 99% of the
questions correct. The dealer places the card is the discard pile.
</code>
</pre>

<p>Believe it or not that is part of the program. We might refer to it as
the <em>semantic specification</em> of the problem set.</p>

<p>The next layer is the <em>procedural scheduling</em>. This is written with a simple
DSL over a procedural language, such as Ruby, Javascript or forth++.</p>

<div class="highlight"><pre>    <span class="no">When</span> <span class="s2">"requires a deck of cards"</span> <span class="k">do</span>
      <span class="n">cards</span> <span class="o">=</span> <span class="no">Hash</span><span class="o">[*</span><span class="sx">%{! 1 @ 2 # 3 $ 4 % 5 ^ 6 &amp; 7 * 8 ( 9 ) 0}</span><span class="o">]</span>
      <span class="vi">@cards</span> <span class="o">=</span> <span class="n">cards</span><span class="o">.</span><span class="n">map</span><span class="p">{</span> <span class="o">|</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="o">|</span> <span class="no">Card</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="p">}</span>
    <span class="k">end</span>

    <span class="k">class</span> <span class="nc">Card</span>
      <span class="kp">attr</span> <span class="ss">:face</span>
      <span class="kp">attr</span> <span class="ss">:back</span>
      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">back</span><span class="p">)</span>
        <span class="vi">@face</span><span class="p">,</span> <span class="vi">@back</span> <span class="o">=</span> <span class="n">face</span><span class="p">,</span> <span class="n">back</span>
      <span class="k">end</span>
      <span class="k">def</span> <span class="nf">match?</span><span class="p">(</span><span class="n">guess</span><span class="p">)</span>
        <span class="n">guess</span> <span class="o">==</span> <span class="n">back</span>
      <span class="k">end</span>
    <span class="k">end</span>
</pre>
</div>


<p>The procedural scheduling consists a set of match rules. As the the
semantic sepcification is read-in, it triggers events in the procedural
schedule. The first event we address is the dealing of the cards. In doing
this we determine we should use a specilized object for each card, and
so create a Card class.</p>

<p>Lets continue...</p>

<div class="highlight"><pre>    <span class="no">When</span> <span class="s2">"dealer takes a card"</span> <span class="k">do</span>
      <span class="k">if</span> <span class="vi">@cards</span><span class="o">.</span><span class="n">empty?</span>
        <span class="vi">@cards</span> <span class="o">=</span> <span class="vi">@discard_pile</span><span class="o">.</span><span class="n">shuffle</span>
      <span class="k">end</span>
      <span class="vi">@dealers_card</span> <span class="o">=</span> <span class="vi">@cards</span><span class="o">.</span><span class="n">pop</span>
    <span class="k">end</span>

    <span class="no">When</span> <span class="s2">"shows the back of the card"</span> <span class="k">do</span>
      <span class="nb">print</span> <span class="s2">"</span><span class="si">#{</span><span class="vi">@dealers_card</span><span class="si">}</span><span class="s2"> ?"</span>
    <span class="k">end</span>

    <span class="no">When</span> <span class="s2">"trys to guess"</span> <span class="k">do</span>
      <span class="n">ans</span> <span class="o">=</span> <span class="n">ask</span>
      <span class="k">if</span> <span class="n">ans</span> <span class="o">==</span> <span class="vi">@dealers_card</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">ans</span><span class="p">)</span>
        <span class="vi">@right</span> <span class="o">||=</span> <span class="mi">0</span>
        <span class="vi">@right</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">else</span>
        <span class="vi">@wrong</span> <span class="o">||=</span> <span class="mi">0</span>
        <span class="vi">@wrong</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="no">When</span> <span class="s2">"winning player is one who gets 99%"</span> <span class="k">do</span>
      <span class="k">if</span> <span class="mi">0</span><span class="o">.</span><span class="mi">99</span> <span class="o">==</span> <span class="p">(</span><span class="vi">@right</span> <span class="o">/</span> <span class="vi">@right</span> <span class="o">+</span> <span class="vi">@wrong</span><span class="p">)</span>
        <span class="nb">puts</span> <span class="s2">"You Win!"</span>
        <span class="nb">exit</span>
      <span class="k">else</span>
        <span class="n">goto</span> <span class="s2">"dealer takes a card"</span>
      <span class="k">end</span>
    <span class="k">end</span>

    <span class="no">When</span> <span class="s2">"places the card is the discard pile"</span> <span class="k">do</span>
      <span class="vi">@discard_pile</span> <span class="o">||=</span> <span class="o">[]</span>
      <span class="vi">@discard_pile</span> <span class="o">&lt;&lt;</span> <span class="vi">@dealers_card</span>
    <span class="k">end</span>
</pre>
</div>


<p>We are not quite finished yet, but we are far enough along to really
demonstrate the magic of this approach --and after all are a'mamatter
first appears here: <code>goto</code>.</p>

<p>As the "reading" of the semantic specification proceeds, various events
are triggered which bring the program fruition.</p>

<p>As we continue to refactor our program some amazing properties of this appraoch
become appeartant. We can see where procedures tend to get large. most often 
just a few lines of code is all that each procedure needs. If we have more
than this it is a good indication that a new procedure can be spun off
for that bit of code which in turn needs to be written about in the semantic 
specification.</p>

<h2>Contexts</h2>

<p>Of course all these procedures would do us little good if we could not
easily share them. To this end we use a module system. Procedures
are grouped together and named, which can then be included into a 
programs context.</p>

<h2>Testing</h2>

<p>Testing becomes the seemingly redundant activity of writing about the 
writing. But it is important for solid program construction. Think of it
as double entry accounting.</p>

<pre>
  <code># Test 

test "winning player is one who gets 99%" do |right, wrong|
  @right = right
  @wrong = wrong

end
</code>
</pre>

<h2>SIDE NOTES</h2>

<p>Combine premptive execution via in program hints (ruby lib?) with a strong 
isolation.</p>

<hr /><p>title      : A New Programming Language
author     : trans
categories : [ruby, programming]
date       : 2011-05-05
layout     : post</p>
			</div>
		</article>

		<footer>
			<small>Last edited by <b>7rans</b> on December 04, 2011.</small>
			<small style="float:right;">
				This site is a <a href="https://github.com/blog/699-making-github-more-open-git-backed-wikis">GitHub Wiki</a>
				mirror powered by <a href="http://smeagolrb.info">Smeagol</a>.
			</small>
		</footer>
    </div>
</body>
</html>
